{"version":3,"sources":["webpack:///./js/gallery-items.js","webpack:///./js/selector.js","webpack:///./js/gallery.js","webpack:///./js/createGallery.js"],"names":["preview","original","description","galleryContainerEl","document","querySelector","lightboxEl","lightboxOverlayEl","lightboxImageEl","closeModalBtn","activeIndex","gallerysMarkup","galleryItems","map","index","join","onCloseModal","removeEventListener","window","onPressKey","onLightboxOverlayClick","classList","remove","src","alt","event","currentTarget","target","code","length","insertAdjacentHTML","addEventListener","preventDefault","Number","dataset","nodeName","add","source"],"mappings":"iJAAe,GACb,CACEA,QAAS,uFACTC,SACE,uFACFC,YAAa,mBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,6BAEf,CACEF,QAAS,wEACTC,SAAU,wEACVC,YAAa,qBAEf,CACEF,QAAS,0EACTC,SAAU,0EACVC,YAAa,iBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,oBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,yBAEf,CACEF,QAAS,2EACTC,SAAU,2EACVC,YAAa,yBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,oBAEf,CACEF,QAAS,6EACTC,SAAU,6EACVC,YAAa,yBC7CJC,EAAqBC,SAASC,cAAc,eAC5CC,EAAaF,SAASC,cAAc,gBACpCE,EAAoBH,SAASC,cAAc,sBAC3CG,EAAkBJ,SAASC,cAAc,oBACzCI,EAAgBL,SAASC,cAAc,wC,wCCKpD,IACIK,EADEC,EAA+BC,ECPhCC,KAAI,WAAqCC,GAAU,IAA5Cd,EAA4C,EAA5CA,QAASC,EAAmC,EAAnCA,SACf,sFAIMA,EAJN,8DAQOD,EARP,yBASeC,EATf,wBAUca,EAVd,iBADkD,EAAzBZ,YACzB,oCAiBDa,KAAK,IDqCV,SAASC,IACPP,EAAcQ,oBAAoB,QAASD,GAC3CE,OAAOD,oBAAoB,UAAWE,GACtCZ,EAAkBU,oBAAoB,QAASG,GAE/Cd,EAAWe,UAAUC,OAAO,WAC5Bd,EAAgBe,IAAM,GACtBf,EAAgBgB,IAAM,GAGxB,SAASJ,EAAuBK,GAC1BA,EAAMC,gBAAkBD,EAAME,QAChCX,IAIJ,SAASG,EAAWM,GACE,OAAhBf,IAIgB,WAAfe,EAAMG,MACTZ,IAGiB,cAAfS,EAAMG,MACJlB,EAAc,IAChBA,GAAe,EACfF,EAAgBe,IAAMX,EAAaF,GAAaT,UAIjC,eAAfwB,EAAMG,MACJlB,EAAcE,EAAaiB,OAAS,IACtCnB,GAAe,EACfF,EAAgBe,IAAMX,EAAaF,GAAaT,WAhFtDE,EAAmB2B,mBAAmB,YAAanB,GAEnDR,EAAmB4B,iBAAiB,SA2BpC,SAAwBN,GAItB,GAHAA,EAAMO,iBACNtB,EAAcuB,OAAOR,EAAME,OAAOO,QAAQpB,OAEZ,QAA1BW,EAAME,OAAOQ,SACf,OAEFjB,OAAOa,iBAAiB,UAAWZ,GACnCV,EAAcsB,iBAAiB,QAASf,GACxCT,EAAkBwB,iBAAiB,QAASX,GAE5Cd,EAAWe,UAAUe,IAAI,WACzB5B,EAAgBe,IAAME,EAAME,OAAOO,QAAQG,OAC3C7B,EAAgBgB,IAAMC,EAAME,OAAOH,S","file":"main.a9f4bc699009211922a5.js","sourcesContent":["export default [\r\n  {\r\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n","export const galleryContainerEl = document.querySelector('.js-gallery');\r\nexport const lightboxEl = document.querySelector('.js-lightbox');\r\nexport const lightboxOverlayEl = document.querySelector('.lightbox__overlay');\r\nexport const lightboxImageEl = document.querySelector('.lightbox__image');\r\nexport const closeModalBtn = document.querySelector('button[data-action=\"close-lightbox\"]');","import galleryItems from './gallery-items';\r\nimport { galleryContainerEl, lightboxEl, lightboxOverlayEl, lightboxImageEl, closeModalBtn } from './selector';\r\n\r\n// const galleryContainerEl = document.querySelector('.js-gallery');\r\n// const lightboxEl = document.querySelector('.js-lightbox');\r\n// const lightboxOverlayEl = document.querySelector('.lightbox__overlay');\r\n// const lightboxImageEl = document.querySelector('.lightbox__image');\r\n// const closeModalBtn = document.querySelector('button[data-action=\"close-lightbox\"]');\r\n\r\nconst gallerysMarkup = createGallery(galleryItems);\r\nlet activeIndex;\r\n\r\ngalleryContainerEl.insertAdjacentHTML('beforeend', gallerysMarkup);\r\n\r\ngalleryContainerEl.addEventListener('click', onGalleryClick);\r\n\r\nimport createGallery from './createGallery';\r\n\r\n// function createGallery(galleryItems) {\r\n//   return galleryItems\r\n//     .map(({ preview, original, description }, index) => {\r\n//       return `\r\n//     <li class=\"gallery__item\">\r\n//   <a\r\n//     class=\"gallery__link\"\r\n//     href=\"${original}\"\r\n//   >\r\n//     <img\r\n//       class=\"gallery__image\"\r\n//       src=\"${preview}\"\r\n//       data-source=\"${original}\"\r\n//       data-index=\"${index}\"\r\n//       alt=\"${description}\"\r\n//     />\r\n//   </a>\r\n// </li>\r\n//     `;\r\n//     })\r\n//     .join('');\r\n// }\r\n\r\nfunction onGalleryClick(event) {\r\n  event.preventDefault();\r\n  activeIndex = Number(event.target.dataset.index);\r\n\r\n  if (event.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n  window.addEventListener('keydown', onPressKey); \r\n  closeModalBtn.addEventListener('click', onCloseModal);\r\n  lightboxOverlayEl.addEventListener('click', onLightboxOverlayClick);\r\n\r\n  lightboxEl.classList.add('is-open');\r\n  lightboxImageEl.src = event.target.dataset.source;\r\n  lightboxImageEl.alt = event.target.alt;\r\n}\r\n\r\nfunction onCloseModal() {  \r\n  closeModalBtn.removeEventListener('click', onCloseModal);\r\n  window.removeEventListener('keydown', onPressKey); \r\n  lightboxOverlayEl.removeEventListener('click', onLightboxOverlayClick);\r\n\r\n  lightboxEl.classList.remove('is-open');\r\n  lightboxImageEl.src = '';\r\n  lightboxImageEl.alt = '';\r\n}\r\n\r\nfunction onLightboxOverlayClick(event) {\r\n  if (event.currentTarget === event.target) {\r\n    onCloseModal();\r\n  }\r\n}\r\n\r\nfunction onPressKey(event) {\r\n  if (activeIndex === null) {\r\n    return;\r\n  }\r\n\r\n   if (event.code === 'Escape') {\r\n    onCloseModal();\r\n  }\r\n\r\n  if (event.code === 'ArrowLeft') {\r\n    if (activeIndex > 0) {\r\n      activeIndex -= 1;\r\n      lightboxImageEl.src = galleryItems[activeIndex].original;\r\n    }\r\n  }\r\n\r\n  if (event.code === 'ArrowRight') {\r\n    if (activeIndex < galleryItems.length - 1) {\r\n      activeIndex += 1;\r\n      lightboxImageEl.src = galleryItems[activeIndex].original;\r\n    }\r\n  }\r\n}\r\n","export default function createGallery(galleryItems) {\r\n  return galleryItems\r\n    .map(({ preview, original, description }, index) => {\r\n      return `\r\n    <li class=\"gallery__item\">\r\n  <a\r\n    class=\"gallery__link\"\r\n    href=\"${original}\"\r\n  >\r\n    <img\r\n      class=\"gallery__image\"\r\n      src=\"${preview}\"\r\n      data-source=\"${original}\"\r\n      data-index=\"${index}\"\r\n      alt=\"${description}\"\r\n    />\r\n  </a>\r\n</li>\r\n    `;\r\n    })\r\n    .join('');\r\n}"],"sourceRoot":""}